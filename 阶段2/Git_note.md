# Git基础入门学习笔记

## Git简介

Git是一个基于Linux内核开发的版本控制工具,采用分布式版本库的方式相较于以前流行的CVS,SVN这种集中式的版本控制器,它有着极大的便利性,对于开发者来说只要目前不需要提交代码,网络不会影响开发.方便与多人协作开放一个项目,将多人写的代码合并,Git亮点为和优化合并代码这一操作,有效优化了反复更改合并后代码这一步骤.Git需要一个代码存放的地方,让协作的团队上传自己的代码,GitHub就是其中之一,让全球的人将自己愿意开源的代码上传.Git还有一大亮点是能够记录文件每次的改动,便于在有需要时找到旧的代码版本.

## Git工作区和版本库

用 ***mkdir*** 建立的文件夹叫做工作区, ***git init*** 初始化后自动添加的 ***.git*** 是版本库.版本库中有一个 ***stage*** 是暂存区,还有一个自动创建的 ***master*** 分支以及它的指针 ***HEAD*** .文件添加到版本库的步骤是将放在 ***工作区***下的文件 ***add*** 进 ***stage暂存区*** ,再 ***commit*** 进 ***master*** 分支

## Git基础操作

为本机设置可识别的ID

> ```
> $ git config --global user.name "用户名"
> ```
>
> ```
> $ git config --global user.email "<个人邮箱>
> ```

1. 用Git bash在本地建立 ***版本库*** (repository) GitHub中叫 ***仓库***.

   1. 创建目录

      > ```
      > $ mkdir <文件名>
      > 
      > $ cd <文件名>
      > ```

   2. 初始化仓库

      > ```
      > $ git init
      > ```
      >
      >  初始化仓库,git能够管理这个目录了

   3. 查看目录

      > ```
      > $ ls -ah 
      > ```
      >
      > 可查看到目录下多了一个 .git 隐藏目录

2. 将文件添加进 ***版本库***

   1. 将 ***文本文件*** 放入到版本库的目录下,放在其他地方Git找不到文件

   2. 将文件 ***添加*** 到仓库

      > ```
      > $ git add readme.txt
      > ```

   3. 将文件 ***提交*** 到仓库

      > ```
      > $ git commit -m "**提交说明**"
      > ```

   4. ***add*** 和 ***commit*** 说明

      Git添加文件共两步,commit一次可添加很多文件,可以add多个文件后commit一次添加完成

3. 查看 ***版本库*** 状态

   1. 查看版本状态

      > ```
      > $ git status
      > 可查看是否有文件的修改和是否有将要提交的文件
      > ```

   2. 查看修改文件的修改内容

      > ```
      > $ git diff <文件名>
      > ```

   3. 查看修改内容无误后再次提交文件到版本库

4. 查看文件修改的历史记录

   1. > ```
      > $ git log 
      > 查看文件的提交日志
      > ```
      >
      > ```
      > $ git log --pretty=oneline 
      > 简易版查看提交日志
      > ```

   2. ***commit*** 后面跟的一长串数字加字母是十六进制表示的 ***commit id 版本号*** ,防止多人协同于一个版本库时产生冲突

5. 回滚

   1. 回退到上个版本

      > ```
      > $  git reset --hard HEAD^
      > 版本回退后再使用  git log 就无法看见回滚前最新的那个版本了.
      > ```

   2. 找回最新版本的解决办法

      1. 找到最新版本的十六进制表示的 ***commit id 版本号***

      2. > ```
         > $ git reset --hard <版本号> 
         > 版本号可以不写全但也不能只写一两位
         > ```

      3. >```
         >$git reflog 
         >可查看命令历史以确定到未来的哪个版本
         >```

   3. ***HEAD*** 指针是用来定位版本的

6. 删除文件

   1. 在工作区中删除文件

      > ```
      > $ rm <文件名>
      > ```

   2. 在版本库中删除文件

      1. > ```
         > $ git rm <文件名>
         > ```

      2. > ```
         > $ git commit -m "操作说明"
         > ```

7. 撤销修改

   > ```
   > $ git checkout -- <文件名> 
   > ```

   有两种情况

   1. 一种是文件自修改后还没有被放到暂存区,现在撤销修改就回到和版本库一模一样的状态
   2. 一种是文件已经添加到暂存区后,又作了修改现在撤销修改就回到添加到暂存区后的状态

8. 远程仓库

   1. 创建 ***SSH*** 密钥 

      1. 由于git仓库与github仓库之间的传输是SSH加密,先要在本地创建SSH密钥

         > ```
         > $ ssh-keygen -t rsa -C "<个人邮箱>"
         > 创建后选择存放密钥的目录, ***id_rsa*** 是私钥, ***id_rsa.pub*** 是公钥.
         > ```

      2. 在GitHub中个人设置中找到 ***SSH*** ,写好 ***title*** 供自己方便查看 ***SSH*** 对应的机器,在 ***Add Key*** 中复制进去 ***id_rsa.pub*** 中的内容.

   2. 关联远程仓库

      > ```
      > $ git remote add origin git@github.com:<个人github用户名>/<github上的仓库> 
      > 将本地git仓库与github上的仓库关联,远程仓库默认名为 origin
      > ```

   3. 远程仓库基本操作

      1. 第一次从本地向远程仓库推送内容

         > ```
         > $ git push -u origin <分支>
         > 推送的是本地的 <分支>
         > -u 参数是将本地的 <分支> 和远程仓库的 <分支> 关联,简化后续的推送
         > ```

      2. 第一次使用 ***clone*** 或者 ***push*** 时有 SSH 警告,验证key的信息是否源于 github 确认后输入 yes 就行了

      3. 后续从本地向远程仓库推送内容

         > ```
         > $ git push origin <分支>
         > ```

   4. 解除与远程库关联

      1. 查看远程库信息

         > ```
         > $ git remote -v
         > 删除前先查看信息免得删错了
         > ```

      2. > ```
         > $ git remote rm <远程库名字>
         > 解除与远程库的关联
         > ```

      

      

      

      

       

   



